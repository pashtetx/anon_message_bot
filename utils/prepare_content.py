from datetime import datetime


def prepare_response_text(text: str, sender, is_visible: bool = False) -> str:
    
    username = "@" + sender.username if sender.username \
        else f"{sender.first_name if sender.first_name else ''} {sender.last_name if sender.last_name else ''}"
    
    response = (
        f"‚ù§ –í–∞–º –ø—Ä–∏—à–ª–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç {f'{username}' if is_visible else f'–ê–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ({sender.fake_username})'}:\n\n",
        f"<b>{text}</b>"
    )

    return "".join(response)

def prepare_start_text(current_user):
    
    response = (
        f"–ü—Ä–∏–≤–µ—Ç, —ç—Ç–æ –±–æ—Ç –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –≤–∞–ª–µ–Ω—Ç–∏–Ω–æ–∫, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∞–Ω–æ–Ω–∏–º–Ω–æ. üíå\n\n",
        f"- ‚ùì –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω—É–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É /link –∏ —Å –ø–æ–º–æ—â—å—é —ç—Ç–æ–π —Å—Å—ã–ª–∫–∏ –ª—é–¥–∏ –±—É–¥—É—Ç –ø–∏—Å–∞—Ç—å –≤–∞–º –∞–Ω–æ–Ω–∏–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.\n\n",
        f"-  üé≤  –í –±–æ—Ç–µ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–∞–Ω–¥–æ–º–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º /random \n\n",
        f"-  üèÜ  –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ—é —Å—Å—ã–ª–∫—É –≤ –ø—Ä–æ—Ñ–∏–ª—å —Ç–µ–ª–µ–≥—Ä–∞–º/–∏–Ω—Å—Ç–∞–≥—Ä–∞–º/–¥–∏—Å–∫–æ—Ä–¥\n\n ",
        f"–¢–≤–æ–µ –∞–Ω–æ–Ω–∏–º–Ω–æ–µ –∏–º—è: <b>{current_user.fake_username}</b>\n",
        f"-  üé≠  –ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω–æ–µ –∏–º—è /username (name)\n\n"
        f"üì¶ <i>–¢–µ—Ö. –ø–æ–¥–¥–µ—Ä–∂–∫–∞: @migainis</i>",
    )

    return "".join(response)
